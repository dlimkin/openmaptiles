layer:
  id: "address"
#  requires:
#    layers:
#      - housenumber
  description: |
      Address search
  buffer_size: 4
  datasource:
    geometry_field: geometry
    key_field: osm_id
    key_field_as_attribute: no
    query: (SELECT geometry FROM layer_housenumber(!bbox!, z(!scale_denominator!))) AS t
schema:
  - ./functions.sql
  - ./address.sql
datasources:
  - type: imposm3
    mapping_file: ./mapping.yaml